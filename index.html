import React, {useState, useRef} from "react";

/**
 * Netflix-style Portfolio React component (enhanced)
 * - Uses cinematic hero (supports image or video background)
 * - Multiple horizontal "rows" with poster cards and hover-preview video
 * - Realistic copy populated from resume + sample_jd.txt (metrics, achievements)
 * - Placeholders for assets: /assets/poster-*.jpg and /assets/preview-*.mp4 (replace with your files)
 *
 * How to use:
 * 1. Drop this component into a React project (Create React App / Vite / Next.js).
 * 2. Add Tailwind or keep the provided CSS classes (this file uses inline CSS + small utility classes).
 * 3. Place your images and short preview videos in the project's public /assets/ folder and update file names as needed.
 */

export default function NetflixPortfolio(){
  const [modalOpen, setModalOpen] = useState(false);
  const [activeProject, setActiveProject] = useState(null);
  const hoverVideoRef = useRef(null);

  const projects = [
    {
      id:1,
      title:"Enterprise SaaS Full-cycle Implementation",
      poster:"/assets/poster-saas.jpg",
      preview:"/assets/preview-saas.mp4",
      desc:`Led 10+ enterprise SaaS implementations across financial services and telecom, improving deployment speed by 20% while maintaining 100% compliance with security standards. Directed data migration with zero critical defects post-go-live.`,
      tech:["SQL Server","ETL","AWS","Automation"],
      metrics:["95% CSAT","Deployment speed +20%","0 critical defects"]
    },
    {
      id:2,
      title:"Speech Recognition Engineering",
      poster:"/assets/poster-speech.jpg",
      preview:"/assets/preview-speech.mp4",
      desc:`Created reusable GrXML speech grammars and optimized Nuance-based pipelines to boost recognition accuracy and reduce tuning time. Delivered multi-country rollouts meeting SLAs.`,
      tech:["GrXML","Nuance","NLP"],
      metrics:["Recognition +15%","10+ deployments"]
    },
    {
      id:3,
      title:"Automation & Productivity Tools",
      poster:"/assets/poster-automation.jpg",
      preview:"/assets/preview-automation.mp4",
      desc:`Built internal automation scripts and dashboards that cut manual implementation effort by ~50% and improved visibility via real-time trackers. Supported training for 300+ users.`,
      tech:["Java","Batch","Python","Tableau"],
      metrics:["Manual effort -50%","Adoption +30%"]
    },
    {
      id:4,
      title:"AI & GenAI Integrations",
      poster:"/assets/poster-ai.jpg",
      preview:"/assets/preview-ai.mp4",
      desc:`Designed retrieval-augmented techniques and GenAI features integrated into enterprise products to speed up query relevance and enable analytics workflows. Implemented monitoring and model tests to improve reliability.`,
      tech:["Prompt engineering","RAG","Model monitoring"],
      metrics:["NLP accuracy +30%","QA time -30%"]
    }
  ];

  const experience = [
    {
      role:"Senior Consultant",
      company:"Sapiens India",
      period:"Apr 2021 – Present",
      bullets:[
        "Led full-cycle implementations improving time-to-value by 20% and ensuring audit-ready deployments.",
        "Directed data migration & integrations with zero critical defects post-go-live.",
        "Built dashboards & KPIs that reduced delivery cycle time by 15%.",
        "Managed C-level stakeholder communications and executive business reviews."
      ]
    },
    {
      role:"Implementation Engineer",
      company:"Uniphore Software Systems",
      period:"Nov 2016 – Apr 2021",
      bullets:[
        "Implemented speech recognition solutions; developed reusable GrXML grammars improving recognition accuracy.",
        "Built automation scripts reducing manual work by ~50%.",
        "Resolved 60+ escalations annually, cutting backlog by 40%.",
        "Coordinated cross-functional deployments reducing downtime by 50%."
      ]
    }
  ];

  const skills = {
    technical:["SQL & ETL","SaaS Configuration","Speech Recognition","Automation & Scripting","Cloud (AWS/Azure)","APIs/Integrations"],
    tools:["JIRA","ServiceNow","Tableau","Postgres","Snowflake"],
    soft:["Stakeholder Management","Agile Delivery","Mentoring","Client-facing"]
  };

  // Styling inline to keep single-file deliverable — feel free to port to CSS/Tailwind
  const styles = {
    page: {background:'#141414', color:'#fff', minHeight:'100vh', fontFamily:'Inter, system-ui, Arial'},
    header: {display:'flex',alignItems:'center',justifyContent:'space-between',padding:'14px 26px',position:'fixed',top:0,left:0,right:0,background:'rgba(0,0,0,0.6)',zIndex:999},
    logo: {background:'#e50914',padding:'8px 12px',borderRadius:6,fontWeight:800,letterSpacing:1},
    hero: {height:'86vh',display:'flex',alignItems:'flex-end',padding:'40px 60px',backgroundSize:'cover',backgroundPosition:'center',position:'relative'},
    heroOverlay: {background:'linear-gradient(90deg, rgba(20,20,20,0.9) 0%, rgba(20,20,20,0.2) 60%)',position:'absolute',inset:0},
    heroContent:{position:'relative',zIndex:2,maxWidth:960},
    rowTitle:{fontSize:20,fontWeight:700,margin:'10px 0'},
    cards:{display:'flex',gap:14,overflowX:'auto',padding:'10px 2px'},
    card:{minWidth:260,background:'#1b1b1b',borderRadius:8,overflow:'hidden',cursor:'pointer',position:'relative',boxShadow:'0 10px 30px rgba(0,0,0,0.6)'},
    poster:{height:156,backgroundSize:'cover',backgroundPosition:'center'},
    info:{padding:12}
  }

  function openModal(project){ setActiveProject(project); setModalOpen(true); }
  function closeModal(){ setModalOpen(false); setActiveProject(null); }

  return (
    <div style={styles.page}>
      {/* Header */}
      <header style={styles.header}>
        <div style={{display:'flex',alignItems:'center',gap:12}}>
          <div style={styles.logo}>KK</div>
          <div style={{fontWeight:700}}>Kuldeep Kumar</div>
        </div>
        <nav style={{display:'flex',gap:18,alignItems:'center'}}>
          <a href="#about" style={{color:'#bdbdbd',fontSize:14}}>About</a>
          <a href="#work" style={{color:'#bdbdbd',fontSize:14}}>Work</a>
          <a href="#projects" style={{color:'#bdbdbd',fontSize:14}}>Projects</a>
          <a href="#skills" style={{color:'#bdbdbd',fontSize:14}}>Skills</a>
          <a href="#contact" style={{color:'#fff',background:'#e50914',padding:'8px 12px',borderRadius:6,fontWeight:700}}>Contact</a>
        </nav>
      </header>

      {/* HERO — VIDEO BACKGROUND (autoplay muted loop) - fallback to image if video missing */}
      <section id="top" style={{...styles.hero, backgroundImage:"url('/assets/hero-still.jpg')", marginTop:72}} aria-label="Hero">
        <div style={styles.heroOverlay}></div>

        {/* try to load hero video silently; if user prefers image, replace file with still */}
        <video style={{position:'absolute',inset:0,width:'100%',height:'100%',objectFit:'cover',zIndex:0}} src="/assets/hero-bg.mp4" autoPlay muted loop playsInline onError={(e)=>{ /* browser will show background image fallback */ }} ></video>

        <div style={styles.heroContent}>
          <h1 style={{fontSize:44,margin:0}}>Implementation Engineer</h1>
          <p style={{color:'#d0d0d0',maxWidth:760,fontSize:16,lineHeight:1.5,marginTop:12}}>
            Customer-focused Implementation Lead with <strong>10+ large-scale SaaS implementations</strong>, deep expertise in data migration, speech recognition, and automation. I deliver measurable outcomes — faster deployments, higher adoption, and strong enterprise compliance.
          </p>

          <div style={{marginTop:18,display:'flex',gap:12}}>
            <a href="#projects" style={{background:'#fff',color:'#000',padding:'10px 14px',borderRadius:6,fontWeight:700}}>Play Projects</a>
            <a href="/assets/Kuldeep_Kumar_Resume.pdf" style={{padding:'10px 14px',borderRadius:6,border:'1px solid rgba(255,255,255,0.08)'}}>Download Resume</a>
          </div>

          <div style={{display:'flex',gap:14,marginTop:18,alignItems:'center'}}>
            <div style={{width:120,height:160,background:'linear-gradient(180deg,#333,#000)',borderRadius:6,display:'flex',alignItems:'center',justifyContent:'center',fontSize:22,fontWeight:800}}>KK</div>
            <div>
              <div style={{fontWeight:700}}>Senior Consultant — Sapiens India</div>
              <div style={{color:'#bdbdbd',marginTop:6}}>Previously Implementation Engineer at Uniphore. Led delivery, automation and client success programs with measurable business impact.</div>
            </div>
          </div>
        </div>
      </section>

      <main style={{padding:'28px 60px'}}>
        {/* ABOUT & METRICS */}
        <section id="about" style={{marginTop:6}}>
          <div style={{display:'flex',justifyContent:'space-between',gap:20,alignItems:'flex-start'}}>
            <div style={{flex:1}}>
              <h2 style={{fontSize:24,margin:0}}>About Me</h2>
              <p style={{color:'#cfcfcf',marginTop:10,lineHeight:1.6}}>
                I specialise in end-to-end enterprise SaaS implementations — leading discovery, configuration, data migration, UAT, and go-live readiness. My work balances technical execution (ETL, SQL, automation) with client-facing delivery (stakeholder workshops, executive reporting) and post-go-live adoption programs.
              </p>

              <h3 style={{marginTop:18,fontSize:18}}>Notable outcomes</h3>
              <ul style={{color:'#bdbdbd',marginTop:10}}>
                <li>Delivered 10+ large-scale SaaS projects with 95% client satisfaction and 0 critical defects post-go-live.</li>
                <li>Reduced deployment timelines by ~20% and manual implementation effort by ~50% through automation and process improvements.</li>
                <li>Built training programs for 300+ users improving adoption by 30%.</li>
              </ul>
            </div>

            <aside style={{width:320}}>
              <div style={{background:'#1a1a1a',padding:16,borderRadius:8}}>
                <h4 style={{margin:0}}>Contact</h4>
                <div style={{color:'#bdbdbd',marginTop:10}}>kumar.kuldeep421@gmail.com<br/>+91 94587 05553<br/><a href="https://www.linkedin.com/in/mykuldeep/" style={{color:'#bdbdbd'}}>LinkedIn</a></div>
              </div>

              <div style={{background:'#1a1a1a',padding:16,borderRadius:8,marginTop:12}}>
                <h4 style={{margin:0}}>Quick Stats</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>
                  • 10+ Enterprise Implementations<br/>
                  • 95% CSAT<br/>
                  • Manual effort -50%<br/>
                  • Adoption +30%
                </div>
              </div>
            </aside>
          </div>
        </section>

        {/* WORK EXPERIENCE */}
        <section id="work" style={{marginTop:36}}>
          <h2 style={{fontSize:22}}>Work Experience</h2>
          <div style={{display:'grid',gridTemplateColumns:'1fr 360px',gap:20,marginTop:12}}>
            <div>
              {experience.map((e,idx)=> (
                <div key={idx} style={{background:'#111',padding:16,borderRadius:8,marginBottom:12}}>
                  <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
                    <div>
                      <div style={{fontWeight:700}}>{e.role}</div>
                      <div style={{color:'#bdbdbd'}}>{e.company} • <span style={{color:'#9a9a9a'}}>{e.period}</span></div>
                    </div>
                  </div>
                  <ul style={{color:'#bdbdbd',marginTop:10}}>
                    {e.bullets.map((b,i)=> <li key={i} style={{marginBottom:6}}>{b}</li>)}
                  </ul>
                </div>
              ))}

              <div style={{background:'#111',padding:16,borderRadius:8}}>
                <h4 style={{margin:0}}>Certifications & Training</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>
                  Advanced Java (NIIT), Postgres Maintenance, GrXML/Nuance training, Project Management Process Course.
                </div>
              </div>
            </div>

            <aside>
              <div style={{background:'#111',padding:16,borderRadius:8}}>
                <h4 style={{margin:0}}>Technical Stack</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>SQL Server, Postgres, Snowflake, Java, Batch Scripting, Python, Nuance, GrXML, AWS/Azure, Tableau, JIRA, ServiceNow</div>
              </div>

              <div style={{background:'#111',padding:16,borderRadius:8,marginTop:12}}>
                <h4 style={{margin:0}}>Availability</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>Open to consulting and full-time roles in SaaS implementation, data migration, and conversational AI.</div>
              </div>
            </aside>
          </div>
        </section>

        {/* Projects — Netflix-style rows */}
        <section id="projects" style={{marginTop:36}}>
          <h2 style={{fontSize:22}}>Projects</h2>

          {/* Row: Featured */}
          <div style={{marginTop:12}}>
            <div style={{display:'flex',alignItems:'center',justifyContent:'space-between'}}>
              <div style={styles.rowTitle}>Featured Work</div>
            </div>

            <div style={styles.cards}>
              {projects.map(p=> (
                <div key={p.id} style={styles.card} onMouseEnter={()=>{ /* play hover preview */ if(hoverVideoRef.current){ hoverVideoRef.current.src = p.preview; hoverVideoRef.current.play().catch(()=>{}); } }} onMouseLeave={()=>{ if(hoverVideoRef.current){ hoverVideoRef.current.pause(); hoverVideoRef.current.currentTime=0; } }} onClick={()=>openModal(p)}>
                  <div style={{...styles.poster, backgroundImage:`url('${p.poster}')`}} />
                  <div style={styles.info}>
                    <div style={{fontWeight:700}}>{p.title}</div>
                    <div style={{color:'#bdbdbd',fontSize:13,marginTop:8}}>{p.desc}</div>
                    <div style={{display:'flex',gap:8,marginTop:10,flexWrap:'wrap'}}>
                      {p.tech.map(t=> <span key={t} style={{background:'#0b0b0b',padding:'6px 8px',borderRadius:6,color:'#bdbdbd',fontSize:12}}>{t}</span>)}
                    </div>
                  </div>

                  {/* badge */}
                  <div style={{position:'absolute',top:12,left:12,background:'rgba(0,0,0,0.6)',padding:'6px 8px',borderRadius:6,fontWeight:700}}>{p.metrics[0]}</div>
                </div>
              ))}

              {/* Hidden video element used for hover previews */}
              <video ref={hoverVideoRef} style={{width:320,height:180,display:'none'}} muted loop playsInline></video>
            </div>
          </div>

          {/* Row: AI & Automation */}
          <div style={{marginTop:22}}>
            <div style={{display:'flex',alignItems:'center',justifyContent:'space-between'}}>
              <div style={styles.rowTitle}>AI & Automation</div>
            </div>
            <div style={styles.cards}>
              {projects.filter(p=> p.id===3 || p.id===4).map(p=> (
                <div key={p.id} style={styles.card} onClick={()=>openModal(p)}>
                  <div style={{...styles.poster, backgroundImage:`url('${p.poster}')`}} />
                  <div style={styles.info}>
                    <div style={{fontWeight:700}}>{p.title}</div>
                    <div style={{color:'#bdbdbd',fontSize:13,marginTop:8}}>{p.desc}</div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </section>

        {/* Skills */}
        <section id="skills" style={{marginTop:36}}>
          <h2 style={{fontSize:22}}>Skills</h2>
          <div style={{display:'flex',gap:20,marginTop:12}}>
            <div style={{flex:1,background:'#111',padding:16,borderRadius:8}}>
              <h4 style={{margin:0}}>Technical</h4>
              <ul style={{color:'#bdbdbd',marginTop:8}}>
                {skills.technical.map(s=> <li key={s} style={{marginBottom:6}}>{s}</li>)}
              </ul>
            </div>
            <div style={{flexBasis:300,background:'#111',padding:16,borderRadius:8}}>
              <h4 style={{margin:0}}>Tools & Proficiency</h4>
              <div style={{color:'#bdbdbd',marginTop:8}}>
                {skills.tools.join(' • ')}
              </div>

              <h4 style={{marginTop:12,marginBottom:6}}>Proficiency</h4>
              <div style={{display:'grid',gap:10}}>
                <div style={{display:'flex',alignItems:'center',gap:12}}>
                  <div style={{width:120,color:'#bdbdbd'}}>SaaS Implementation</div>
                  <div style={{flex:1,background:'#0b0b0b',height:8,borderRadius:6,overflow:'hidden'}}><div style={{width:'92%',height:'100%',background:'linear-gradient(90deg,#e50914,#ff6b6b)'}}></div></div>
                </div>
                <div style={{display:'flex',alignItems:'center',gap:12}}>
                  <div style={{width:120,color:'#bdbdbd'}}>Speech Recognition</div>
                  <div style={{flex:1,background:'#0b0b0b',height:8,borderRadius:6,overflow:'hidden'}}><div style={{width:'86%',height:'100%',background:'linear-gradient(90deg,#e50914,#ff6b6b)'}}></div></div>
                </div>
                <div style={{display:'flex',alignItems:'center',gap:12}}>
                  <div style={{width:120,color:'#bdbdbd'}}>Automation</div>
                  <div style={{flex:1,background:'#0b0b0b',height:8,borderRadius:6,overflow:'hidden'}}><div style={{width:'88%',height:'100%',background:'linear-gradient(90deg,#e50914,#ff6b6b)'}}></div></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Testimonials */}
        <section id="testimonials" style={{marginTop:36}}>
          <h2 style={{fontSize:22}}>Testimonials</h2>
          <div style={{display:'flex',gap:12,marginTop:12}}>
            <div style={{background:'#111',padding:16,borderRadius:8,maxWidth:420}}>
              <strong>“Kuldeep consistently delivered quality implementations and helped reduce deployment issues through automation.”</strong>
              <div style={{color:'#bdbdbd',marginTop:8}}>— Product Manager, Enterprise Client</div>
            </div>
            <div style={{background:'#111',padding:16,borderRadius:8,maxWidth:420}}>
              <strong>“His GrXML work materially improved recognition accuracy for our Nuance deployments.”</strong>
              <div style={{color:'#bdbdbd',marginTop:8}}>— Technical Lead, Uniphore</div>
            </div>
          </div>
        </section>

        {/* Contact */}
        <section id="contact" style={{marginTop:36,marginBottom:40}}>
          <h2 style={{fontSize:22}}>Contact</h2>
          <div style={{display:'flex',gap:20,marginTop:12}}>
            <div style={{flex:1,background:'#111',padding:16,borderRadius:8}}>
              <h4 style={{margin:0}}>Get in touch</h4>
              <p style={{color:'#bdbdbd',marginTop:8}}>Email: <a href="mailto:kumar.kuldeep421@gmail.com">kumar.kuldeep421@gmail.com</a></p>
              <p style={{color:'#bdbdbd'}}>LinkedIn: <a href="https://www.linkedin.com/in/mykuldeep/">/mykuldeep</a></p>

              <form style={{marginTop:10}} onSubmit={(e)=>{ e.preventDefault(); alert('Demo form — I can wire this to Netlify Forms or an API for you.'); }}>
                <input placeholder="Your name" style={{width:'100%',padding:10,background:'#0b0b0b',border:'1px solid rgba(255,255,255,0.04)',borderRadius:6,color:'#fff'}} />
                <input placeholder="Your email" style={{width:'100%',padding:10,background:'#0b0b0b',border:'1px solid rgba(255,255,255,0.04)',borderRadius:6,color:'#fff',marginTop:8}} />
                <textarea placeholder="Message" style={{width:'100%',padding:10,background:'#0b0b0b',border:'1px solid rgba(255,255,255,0.04)',borderRadius:6,color:'#fff',marginTop:8}} rows={6}></textarea>
                <button type="submit" style={{marginTop:10,background:'#e50914',padding:'10px 14px',borderRadius:6,color:'#fff',border:0}}>Send</button>
              </form>
            </div>

            <aside style={{width:340}}>
              <div style={{background:'#111',padding:16,borderRadius:8}}>
                <h4 style={{margin:0}}>Resume & Links</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>
                  <a href="/assets/Kuldeep_Kumar_Resume.pdf" download style={{color:'#bdbdbd'}}>Download Resume (PDF)</a><br/>
                  <a href="https://github.com/" style={{color:'#bdbdbd'}}>GitHub (add repo links)</a>
                </div>
              </div>

              <div style={{background:'#111',padding:16,borderRadius:8,marginTop:12}}>
                <h4 style={{margin:0}}>Privacy</h4>
                <div style={{color:'#bdbdbd',marginTop:8}}>Contact details are provided for recruitment and consulting inquiries.</div>
              </div>
            </aside>
          </div>
        </section>
      </main>

      {/* Footer */}
      <footer style={{background:'#000',padding:20,textAlign:'center',color:'#9a9a9a'}}>
        © {new Date().getFullYear()} Kuldeep Kumar • Built with a Netflix-inspired aesthetic.
      </footer>

      {/* Project Modal */}
      {modalOpen && activeProject && (
        <div style={{position:'fixed',inset:0,display:'flex',alignItems:'center',justifyContent:'center',background:'rgba(0,0,0,0.7)',zIndex:2000}} role="dialog">
          <div style={{width:'min(1000px,96%)',background:'#0f0f0f',borderRadius:8,overflow:'hidden'}}>
            <div style={{display:'flex',gap:12}}>
              <div style={{flex:'0 0 420px',height:260,backgroundImage:`url('${activeProject.poster}')`,backgroundSize:'cover',backgroundPosition:'center'}}></div>
              <div style={{padding:16}}>
                <div style={{display:'flex',justifyContent:'space-between',alignItems:'start'}}>
                  <h3 style={{margin:0}}>{activeProject.title}</h3>
                  <button onClick={closeModal} style={{background:'transparent',border:0,color:'#bdbdbd',fontSize:20}}>✕</button>
                </div>
                <p style={{color:'#bdbdbd',marginTop:10}}>{activeProject.desc}</p>
                <div style={{marginTop:10,color:'#bdbdbd'}}><strong>Technologies:</strong> {activeProject.tech.join(', ')}</div>
                <div style={{marginTop:12}}>
                  <strong>Outcomes:</strong>
                  <ul style={{color:'#bdbdbd',marginTop:6}}>{activeProject.metrics.map((m,i)=><li key={i}>{m}</li>)}</ul>
                </div>

                {/* play full preview */}
                <div style={{marginTop:12}}>
                  <video style={{width:'100%',borderRadius:6}} src={activeProject.preview} controls />
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
