import React, {useState, useRef} from "react";

export default function NetflixPortfolio(){
  const [modalOpen, setModalOpen] = useState(false);
  const [activeProject, setActiveProject] = useState(null);
  const hoverVideoRef = useRef(null);

  // Free stock images & videos from Pexels / Pixabay (royalty-free)
  const projects = [
    {
      id:1,
      title:"Enterprise SaaS Full-cycle Implementation",
      poster:"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg",
      preview:"https://cdn.pixabay.com/vimeo/332452545/technology-24129.mp4?width=640&hash=ad3dfe6b7a",
      desc:`Led 10+ enterprise SaaS implementations across financial services and telecom, improving deployment speed by 20% while maintaining 100% compliance with security standards. Directed data migration with zero critical defects post-go-live.`,
      tech:["SQL Server","ETL","AWS","Automation"],
      metrics:["95% CSAT","Deployment speed +20%","0 critical defects"]
    },
    {
      id:2,
      title:"Speech Recognition Engineering",
      poster:"https://images.pexels.com/photos/11813164/pexels-photo-11813164.jpeg",
      preview:"https://cdn.pixabay.com/vimeo/366256982/abstract-21668.mp4?width=640&hash=12adf5e71b",
      desc:`Created reusable GrXML speech grammars and optimized Nuance-based pipelines to boost recognition accuracy and reduce tuning time. Delivered multi-country rollouts meeting SLAs.`,
      tech:["GrXML","Nuance","NLP"],
      metrics:["Recognition +15%","10+ deployments"]
    },
    {
      id:3,
      title:"Automation & Productivity Tools",
      poster:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg",
      preview:"https://cdn.pixabay.com/vimeo/384701492/ai-29815.mp4?width=640&hash=f2a8c10f8d",
      desc:`Built internal automation scripts and dashboards that cut manual implementation effort by ~50% and improved visibility via real-time trackers. Supported training for 300+ users.`,
      tech:["Java","Batch","Python","Tableau"],
      metrics:["Manual effort -50%","Adoption +30%"]
    },
    {
      id:4,
      title:"AI & GenAI Integrations",
      poster:"https://images.pexels.com/photos/5473956/pexels-photo-5473956.jpeg",
      preview:"https://cdn.pixabay.com/vimeo/445379942/network-39937.mp4?width=640&hash=1a3c5019d1",
      desc:`Designed retrieval-augmented techniques and GenAI features integrated into enterprise products to speed up query relevance and enable analytics workflows. Implemented monitoring and model tests to improve reliability.`,
      tech:["Prompt engineering","RAG","Model monitoring"],
      metrics:["NLP accuracy +30%","QA time -30%"]
    }
  ];

  const experience = [
    {
      role:"Senior Consultant",
      company:"Sapiens India",
      period:"Apr 2021 – Present",
      bullets:[
        "Led full-cycle implementations improving time-to-value by 20% and ensuring audit-ready deployments.",
        "Directed data migration & integrations with zero critical defects post-go-live.",
        "Built dashboards & KPIs that reduced delivery cycle time by 15%.",
        "Managed C-level stakeholder communications and executive business reviews."
      ]
    },
    {
      role:"Implementation Engineer",
      company:"Uniphore Software Systems",
      period:"Nov 2016 – Apr 2021",
      bullets:[
        "Implemented speech recognition solutions; developed reusable GrXML grammars improving recognition accuracy.",
        "Built automation scripts reducing manual work by ~50%.",
        "Resolved 60+ escalations annually, cutting backlog by 40%.",
        "Coordinated cross-functional deployments reducing downtime by 50%."
      ]
    }
  ];

  const skills = {
    technical:["SQL & ETL","SaaS Configuration","Speech Recognition","Automation & Scripting","Cloud (AWS/Azure)","APIs/Integrations"],
    tools:["JIRA","ServiceNow","Tableau","Postgres","Snowflake"],
    soft:["Stakeholder Management","Agile Delivery","Mentoring","Client-facing"]
  };

  const styles = {
    page: {background:'#141414', color:'#fff', minHeight:'100vh', fontFamily:'Inter, system-ui, Arial'},
    header: {display:'flex',alignItems:'center',justifyContent:'space-between',padding:'14px 26px',position:'fixed',top:0,left:0,right:0,background:'rgba(0,0,0,0.6)',zIndex:999},
    logo: {background:'#e50914',padding:'8px 12px',borderRadius:6,fontWeight:800,letterSpacing:1},
    hero: {height:'86vh',display:'flex',alignItems:'flex-end',padding:'40px 60px',backgroundSize:'cover',backgroundPosition:'center',position:'relative'},
    heroOverlay: {background:'linear-gradient(90deg, rgba(20,20,20,0.9) 0%, rgba(20,20,20,0.2) 60%)',position:'absolute',inset:0},
    heroContent:{position:'relative',zIndex:2,maxWidth:960},
    rowTitle:{fontSize:20,fontWeight:700,margin:'10px 0'},
    cards:{display:'flex',gap:14,overflowX:'auto',padding:'10px 2px'},
    card:{minWidth:260,background:'#1b1b1b',borderRadius:8,overflow:'hidden',cursor:'pointer',position:'relative',boxShadow:'0 10px 30px rgba(0,0,0,0.6)'},
    poster:{height:156,backgroundSize:'cover',backgroundPosition:'center'},
    info:{padding:12}
  };

  function openModal(project){ setActiveProject(project); setModalOpen(true); }
  function closeModal(){ setModalOpen(false); setActiveProject(null); }

  return (
    <div style={styles.page}>
      <header style={styles.header}>
        <div style={{display:'flex',alignItems:'center',gap:12}}>
          <div style={styles.logo}>KK</div>
          <div style={{fontWeight:700}}>Kuldeep Kumar</div>
        </div>
        <nav style={{display:'flex',gap:18,alignItems:'center'}}>
          <a href="#about" style={{color:'#bdbdbd',fontSize:14}}>About</a>
          <a href="#work" style={{color:'#bdbdbd',fontSize:14}}>Work</a>
          <a href="#projects" style={{color:'#bdbdbd',fontSize:14}}>Projects</a>
          <a href="#skills" style={{color:'#bdbdbd',fontSize:14}}>Skills</a>
          <a href="#contact" style={{color:'#fff',background:'#e50914',padding:'8px 12px',borderRadius:6,fontWeight:700}}>Contact</a>
        </nav>
      </header>

      <section id="top" style={{...styles.hero, backgroundImage:"url('https://images.pexels.com/photos/11813164/pexels-photo-11813164.jpeg')", marginTop:72}} aria-label="Hero">
        <div style={styles.heroOverlay}></div>
        <video style={{position:'absolute',inset:0,width:'100%',height:'100%',objectFit:'cover',zIndex:0}} src="https://cdn.pixabay.com/vimeo/445379942/network-39937.mp4?width=640&hash=1a3c5019d1" autoPlay muted loop playsInline></video>

        <div style={styles.heroContent}>
          <h1 style={{fontSize:44,margin:0}}>Implementation Engineer</h1>
          <p style={{color:'#d0d0d0',maxWidth:760,fontSize:16,lineHeight:1.5,marginTop:12}}>
            Customer-focused Implementation Lead with <strong>10+ large-scale SaaS implementations</strong>, deep expertise in data migration, speech recognition, and automation. I deliver measurable outcomes — faster deployments, higher adoption, and strong enterprise compliance.
          </p>
        </div>
      </section>

      <main style={{padding:'28px 60px'}}>
        <section id="projects" style={{marginTop:36}}>
          <h2 style={{fontSize:22}}>Projects</h2>
          <div style={styles.cards}>
            {projects.map(p=> (
              <div key={p.id} style={styles.card} onClick={()=>openModal(p)}>
                <div style={{...styles.poster, backgroundImage:`url('${p.poster}')`}} />
                <div style={styles.info}>
                  <div style={{fontWeight:700}}>{p.title}</div>
                  <div style={{color:'#bdbdbd',fontSize:13,marginTop:8}}>{p.desc}</div>
                </div>
              </div>
            ))}
          </div>
        </section>
      </main>

      {modalOpen && activeProject && (
        <div style={{position:'fixed',inset:0,display:'flex',alignItems:'center',justifyContent:'center',background:'rgba(0,0,0,0.7)',zIndex:2000}}>
          <div style={{width:'min(1000px,96%)',background:'#0f0f0f',borderRadius:8,overflow:'hidden'}}>
            <div style={{display:'flex',gap:12}}>
              <div style={{flex:'0 0 420px',height:260,backgroundImage:`url('${activeProject.poster}')`,backgroundSize:'cover',backgroundPosition:'center'}}></div>
              <div style={{padding:16}}>
                <div style={{display:'flex',justifyContent:'space-between',alignItems:'start'}}>
                  <h3 style={{margin:0}}>{activeProject.title}</h3>
                  <button onClick={closeModal} style={{background:'transparent',border:0,color:'#bdbdbd',fontSize:20}}>✕</button>
                </div>
                <p style={{color:'#bdbdbd',marginTop:10}}>{activeProject.desc}</p>
                <div style={{marginTop:12}}>
                  <video style={{width:'100%',borderRadius:6}} src={activeProject.preview} controls />
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
